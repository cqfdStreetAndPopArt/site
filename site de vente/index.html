<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="CQFD ‚Äî ≈ìuvres uniques et objets d'art √† vendre. Parcourez nos pi√®ces et ajoutez vos favoris.">
  <title>CQFD</title>
  <link rel="icon" href="./Capture d‚Äô√©cran_31-1-2026_122156_www.instagram.com.jpeg" type="image/jpeg" />
  <link rel="stylesheet" href="style.css" />

  <style>
  /* ===================== */
  /* GALERIE 4 CARTES PAR LIGNE */
  /* ===================== */
  .gallery {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 cartes par ligne */
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .gallery .card {
    width: 100%;
    box-sizing: border-box;
  }

  button.fav-btn {
    background-color: yellow;
    border: none;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 4px;
  }

  #close-cart {
    position: absolute;
    top: 5px;
    right: 5px;
    background: red;
    color: white;
    border: none;
    width: 24px;
    height: 24px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 4px;
    line-height: 1;
  }

  #close-cart:hover { background: darkred; }
  #cart.open { display: block; }

  #cart {
    display: none;
    position: fixed;
    top: 80px;
    right: 20px;
    background: #fff;
    border: 1px solid #ccc;
    padding: 15px;
    width: 250px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    z-index: 1000;
  }

  #cart-items li { margin-bottom: 8px; }

  .remove-btn {
    margin-left: 10px;
    background-color: #e74c3c;
    color: white;
    border: none;
    padding: 2px 6px;
    cursor: pointer;
  }

  /* ===================== */
  /* BOUTON RETOUR EN HAUT */
  /* ===================== */
  #progress-wrap {
    position: fixed;
    right: 30px;
    bottom: 30px;
    height: 46px;
    width: 46px;
    cursor: pointer;
    display: block;
    border-radius: 50px;
    box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.1);
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(15px);
    transition: all 200ms linear;
    background-color: #0d1117; /* Fond sombre comme sur ton image */
  }

  #progress-wrap.active-progress {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  #progress-wrap::after {
    position: absolute;
    content: '‚Üë'; /* La fl√®che */
    text-align: center;
    line-height: 46px;
    font-size: 20px;
    color: #ffffff;
    left: 0;
    top: 0;
    height: 46px;
    width: 46px;
    z-index: 1;
  }

  #progress-wrap svg path { 
    fill: none; 
  }

  #progress-wrap svg.progress-circle path {
    stroke: #3498db; /* Couleur de la barre de progression (bleu) */
    stroke-width: 5;
    box-sizing: border-box;
    transition: all 200ms linear;
  }

  /* ===================== */
  /* RESPONSIVE DESIGN     */
  /* ===================== */

  /* Pour les tablettes (ex: 2 produits par ligne) */
  @media (max-width: 992px) {
    .gallery {
      grid-template-columns: repeat(2, 1fr);
      gap: 20px;
      padding: 0 15px;
    }
  }

  /* Pour les t√©l√©phones (1 produit par ligne) */
  @media (max-width: 600px) {
    .gallery {
      grid-template-columns: repeat(1, 1fr); /* 1 seule colonne */
      gap: 20px;
      padding: 0 20px;
    }

    .gallery .card img {
      width: 100%;      /* L'image prend toute la largeur */
      height: auto;     /* Garde les proportions */
    }

    #cart {
      width: 90%;       /* Le panier prend plus de place sur mobile */
      right: 5%;
    }
  }
  </style>
</head>

<body>

  <div id="progress-wrap">
    <svg class="progress-circle" width="100%" height="100%" viewBox="-1 -1 102 102">
      <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
    </svg>
  </div>

  <header>
    <h1>CQFD</h1>
    <p>≈ìuvres uniques √† vendre</p>
    <nav aria-label="Navigation principale">
      <a href="#">üé® Galerie</a>
      <a href="html/contact.html">üì± Contact</a>
      <a href="#" onclick="toggleCart()" role="button" aria-pressed="false">
        ‚≠êÔ∏è Favoris (<span id="cart-count" aria-live="polite">0</span>)
      </a>
      <a href="vendu.html">‚ùå Vendu</a>
    </nav>
  </header>

  <main class="gallery" aria-label="Liste des produits">
    <article class="card" data-title=" La Muse et son Corsaire" data-price="600">
      <a href="html/produit1.html">
        <picture>
          <img loading="lazy" src="photo/4996423612537855616.jpeg" alt=" La Muse et son Corsaire" width="250" height="400">
        </picture>
        <h2 class="link-h2"> La Muse et son Corsaire</h2>
      </a>
      <p class="price">600‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="She rose anyway" data-price="100">
      <a href="html/produit2.html">
        <picture>
          <img loading="lazy" src="photo/8838844077641047062.jpeg" alt="She rose anyway" width="250" height="400">
        </picture>
        <h2 class="link-h2">She rose anyway</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Playmobil Porsche XXL" data-price="600">
      <a href="html/produit3.html">
        <picture>
          <img loading="lazy"
               src="photo/1612031597558616028.jpeg"
               alt="Playmobil Porsche XXL"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Playmobil Porsche XXL</h2>
      </a>
      <p class="price">600‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="T√©l√©phone PacMan" data-price="300">
      <a href="html/produit4.html">
        <picture>
          <img loading="lazy"
               src="photo/7088879174338661991.jpeg"
               alt="T√©l√©phone PacMan"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">T√©l√©phone PacMan</h2>
      </a>
      <p class="price">300‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

  </main>

  <aside id="cart">
    <button id="close-cart">‚úï</button>
    <h3>‚≠êÔ∏è Vos Favoris</h3>
    <ul id="cart-items"></ul>
    <p>Total : <span id="cart-total">0</span> ‚Ç¨</p>
    <a href="html/contact.html" class="checkout-button" style="display:block; text-align:center; background:#007bff; color:white; padding:10px; border-radius:5px; text-decoration:none;">Passer √† la commande</a>
  </aside>

  <footer>
    <p>&copy; 2025 CQFD. Ce Qu'il Fallait Dessiner.</p>
  </footer>

  <script>
    /* LOGIQUE FAVORIS EXISTANTE */
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    function saveCart() { localStorage.setItem('cart', JSON.stringify(cart)); }
    function addToCart(button) {
      const card = button.closest('.card');
      if (!card) return;
      const title = card.dataset.title;
      const price = parseFloat(card.dataset.price) || 0;
      if (cart.some(item => item.title === title)) { alert(title + " est d√©j√† dans vos favoris."); return; }
      cart.push({ title, price });
      saveCart();
      updateCartDisplay();
    }
    function removeFromCart(index) { cart.splice(index, 1); saveCart(); updateCartDisplay(); }
    function updateCartDisplay() {
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');
      const cartCount = document.getElementById('cart-count');
      if (!cartItems || !cartTotal || !cartCount) return;
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.title} - ${item.price} ‚Ç¨`;
        const removeBtn = document.createElement('button');
        removeBtn.textContent = 'Supprimer';
        removeBtn.className = 'remove-btn';
        removeBtn.onclick = () => removeFromCart(index);
        li.appendChild(removeBtn);
        cartItems.appendChild(li);
        total += item.price;
      });
      cartTotal.textContent = total.toFixed(2);
      cartCount.textContent = cart.length;
    }
    function toggleCart() {
      const cartPanel = document.getElementById('cart');
      if (cartPanel) cartPanel.classList.toggle('open');
    }

    /* ========================================== */
    /* LOGIQUE BOUTON RETOUR EN HAUT + PROGRESSION */
    /* ========================================== */
    document.addEventListener('DOMContentLoaded', function() {
      const progressPath = document.querySelector('#progress-wrap path');
      const pathLength = progressPath.getTotalLength();
      
      progressPath.style.transition = progressPath.style.webkitTransition = 'none';
      progressPath.style.strokeDasharray = pathLength + ' ' + pathLength;
      progressPath.style.strokeDashoffset = pathLength;
      progressPath.getBoundingClientRect();
      progressPath.style.transition = progressPath.style.webkitTransition = 'stroke-dashoffset 10ms linear';

      const updateProgress = function() {
        const scroll = window.pageYOffset || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const progress = pathLength - (scroll * pathLength / height);
        progressPath.style.strokeDashoffset = progress;
      };

      updateProgress();
      window.addEventListener('scroll', updateProgress);

      const offset = 50;
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > offset) {
          document.querySelector('#progress-wrap').classList.add('active-progress');
        } else {
          document.querySelector('#progress-wrap').classList.remove('active-progress');
        }
      });

      document.querySelector('#progress-wrap').addEventListener('click', function(event) {
        event.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
        return false;
      });
    });

    // Initialisation
    window.addEventListener('load', updateCartDisplay);
    document.getElementById('close-cart').addEventListener('click', () => {
      document.getElementById('cart').classList.remove('open');
    });
  </script>
</body>
</html>