<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="CQFD ‚Äî ≈ìuvres uniques et objets d'art √† vendre. Parcourez nos pi√®ces et ajoutez vos favoris.">
  <title>CQFD</title>
  <link rel="icon" href="./Capture d‚Äô√©cran_31-1-2026_122156_www.instagram.com.jpeg" type="image/jpeg" />
  <link rel="stylesheet" href="./site de vente/style.css" />

  <style>
  /* ===================== */
  /* GALERIE 4 CARTES PAR LIGNE */
  /* ===================== */
  .gallery {
    display: grid;
    grid-template-columns: repeat(4, 1fr); /* 4 cartes par ligne */
    gap: 30px;
    max-width: 1200px;
    margin: 0 auto;
  }

  .gallery .card {
    width: 100%;
    box-sizing: border-box;
  }

  button.fav-btn {
    background-color: yellow;
    border: none;
    padding: 8px 12px;
    cursor: pointer;
    border-radius: 4px;
  }

  #close-cart {
    position: absolute;
    top: 5px;
    right: 5px;
    background: red;
    color: white;
    border: none;
    width: 24px;
    height: 24px;
    font-size: 16px;
    cursor: pointer;
    border-radius: 4px;
    line-height: 1;
  }

  #close-cart:hover { background: darkred; }
  #cart.open { display: block; }

  #cart {
    display: none;
    position: fixed;
    top: 80px;
    right: 20px;
    background: #fff;
    border: 1px solid #ccc;
    padding: 15px;
    width: 250px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    z-index: 1000;
  }

  #cart-items li { margin-bottom: 8px; }

  .remove-btn {
    margin-left: 10px;
    background-color: #e74c3c;
    color: white;
    border: none;
    padding: 2px 6px;
    cursor: pointer;
  }

  /* ===================== */
  /* BOUTON RETOUR EN HAUT */
  /* ===================== */
  #progress-wrap {
    position: fixed;
    right: 30px;
    bottom: 30px;
    height: 46px;
    width: 46px;
    cursor: pointer;
    display: block;
    border-radius: 50px;
    box-shadow: inset 0 0 0 2px rgba(255, 255, 255, 0.1);
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transform: translateY(15px);
    transition: all 200ms linear;
    background-color: #0d1117; /* Fond sombre comme sur ton image */
  }

  #progress-wrap.active-progress {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
  }

  #progress-wrap::after {
    position: absolute;
    content: '‚Üë'; /* La fl√®che */
    text-align: center;
    line-height: 46px;
    font-size: 20px;
    color: #ffffff;
    left: 0;
    top: 0;
    height: 46px;
    width: 46px;
    z-index: 1;
  }

  #progress-wrap svg path { 
    fill: none; 
  }

  #progress-wrap svg.progress-circle path {
    stroke: #3498db; /* Couleur de la barre de progression (bleu) */
    stroke-width: 4;
    box-sizing: border-box;
    transition: all 200ms linear;
  }
  </style>
</head>

<body>

  <div id="progress-wrap">
    <svg class="progress-circle" width="100%" height="100%" viewBox="-1 -1 102 102">
      <path d="M50,1 a49,49 0 0,1 0,98 a49,49 0 0,1 0,-98"/>
    </svg>
  </div>

  <header>
    <h1>CQFD</h1>
    <p>≈ìuvres uniques √† vendre</p>
    <nav aria-label="Navigation principale">
      <a href="../index.html">üé® Gallery</a>
      <a href="./site de vente/html/contact.html">üì± Contact</a>
      <a href="#" onclick="toggleCart()" role="button" aria-pressed="false">
        ‚≠êÔ∏è Favoris (<span id="cart-count" aria-live="polite">0</span>)
      </a>
      <a href="./site de vente/vendu.html">‚ùå Vendu</a>
    </nav>
  </header>

  <center>
    <section class="controls">
      <div class="controls-inner">
        <label for="sort">Trier :</label>
        <select id="sort">
          <option value="default">Par d√©faut</option>
          <option value="price-asc">Prix : bas ‚Üí haut</option>
          <option value="price-desc">Prix : haut ‚Üí bas</option>
          <option value="name-asc">Nom A ‚Üí Z</option>
          <option value="name-desc">Nom Z ‚Üí A</option>
        </select>
      </div>
    </section>
  </center>

  <main class="gallery" aria-label="Liste des produits">
    <article class="card" data-title="Bear Brick lumineux" data-price="100">
      <a href="./site de vente/html/produit1.html">
        <picture>
          <img loading="lazy" src="./site de vente/photo/ourson lumineus/ours bleu.JPG" alt="Bear Brick lumineux" width="250" height="400">
        </picture>
        <h2 class="link-h2">Bear Brick lumineux</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="lego" data-price="100">
      <a href="./site de vente/html/produit2.html">
        <picture>
          <img loading="lazy" src="./site de vente/photo/lego/lego devanr.JPG" alt="lego" width="250" height="400">
        </picture>
        <h2 class="link-h2">lego</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Yoshi" data-price="100">
      <a href="./site de vente/html/produit3.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/yochi/yochi devant.JPG"
               alt="Yoshi"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Yoshi</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Fox N¬∞5" data-price="100">
      <a href="./site de vente/html/produit4.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/renard/renard devant.JPG"
               alt="Fox N¬∞5"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Fox N¬∞5</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Bear Brick LV" data-price="100">
      <a href="./site de vente/html/produit5.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/LV/LV devant.JPG"
               alt="Bear Brick 50cm"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Bear Brick LV</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Bear Brick Black And Gold" data-price="100">
      <a href="./site de vente/html/produit6.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/Bear Brick Black And Gold/face.jpg"
               alt="Bear Brick Black And Gold"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Bear Brick Black And Gold</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Lego XXL" data-price="100">
      <a href="./site de vente/html/produit7.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/l√©go XXL/dev.jpg"
               alt="Lego XXL"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Lego XXL</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Playmobil" data-price="100">
      <a href="./site de vente/html/produit8.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/playmobil/diag.jpg"
               alt="Playmobil"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Playmobil</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Panneau" data-price="100">
      <a href="./site de vente/html/produit9.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/panneau/dev.jpg"
               alt="Panneau"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Panneau</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

    <article class="card" data-title="Bear Break Rolex" data-price="100">
      <a href="./site de vente/html/produit10.html">
        <picture>
          <img loading="lazy"
               src="./site de vente/photo/bear brick rolex/diag.jpg"
               alt="Bear Brick Rolex"
               width="250"
               height="400">
        </picture>
        <h2 class="link-h2">Bear Brick Rolex</h2>
      </a>
      <p class="price">100‚Ç¨</p>
      <button type="button" class="fav-btn">Ajouter aux favoris</button>
    </article>

  </main>

  <aside id="cart">
    <button id="close-cart">‚úï</button>
    <h3>‚≠êÔ∏è Vos Favoris</h3>
    <ul id="cart-items"></ul>
    <p>Total : <span id="cart-total">0</span> ‚Ç¨</p>
    <a href="./site de vente/html/contact.html" class="checkout-button">Passer √† la commande</a>
  </aside>

  <footer>
    <p>&copy; 2025 CQFD. Ce Qu'il Fallait Dessiner.</p>
  </footer>

  <script>
    /* LOGIQUE FAVORIS EXISTANTE */
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    function saveCart() { localStorage.setItem('cart', JSON.stringify(cart)); }
    function addToCart(button) {
      const card = button.closest('.card');
      if (!card) return;
      const title = card.dataset.title;
      const price = parseFloat(card.dataset.price) || 0;
      if (cart.some(item => item.title === title)) { alert(title + " est d√©j√† dans vos favoris."); return; }
      cart.push({ title, price });
      saveCart();
      updateCartDisplay();
    }
    function removeFromCart(index) { cart.splice(index, 1); saveCart(); updateCartDisplay(); }
    function updateCartDisplay() {
      const cartItems = document.getElementById('cart-items');
      const cartTotal = document.getElementById('cart-total');
      const cartCount = document.getElementById('cart-count');
      if (!cartItems || !cartTotal || !cartCount) return;
      cartItems.innerHTML = '';
      let total = 0;
      cart.forEach((item, index) => {
        const li = document.createElement('li');
        li.textContent = `${item.title} - ${item.price} ‚Ç¨`;
        const removeBtn = document.createElement('button');
        removeBtn.textContent = 'Supprimer';
        removeBtn.className = 'remove-btn';
        removeBtn.onclick = () => removeFromCart(index);
        li.appendChild(removeBtn);
        cartItems.appendChild(li);
        total += item.price;
      });
      cartTotal.textContent = total.toFixed(2);
      cartCount.textContent = cart.length;
    }
    function toggleCart() {
      const cartPanel = document.getElementById('cart');
      if (cartPanel) cartPanel.classList.toggle('open');
    }

    /* ========================================== */
    /* LOGIQUE BOUTON RETOUR EN HAUT + PROGRESSION */
    /* ========================================== */
    document.addEventListener('DOMContentLoaded', function() {
      const progressPath = document.querySelector('#progress-wrap path');
      const pathLength = progressPath.getTotalLength();
      
      progressPath.style.transition = progressPath.style.webkitTransition = 'none';
      progressPath.style.strokeDasharray = pathLength + ' ' + pathLength;
      progressPath.style.strokeDashoffset = pathLength;
      progressPath.getBoundingClientRect();
      progressPath.style.transition = progressPath.style.webkitTransition = 'stroke-dashoffset 10ms linear';

      const updateProgress = function() {
        const scroll = window.pageYOffset || document.documentElement.scrollTop;
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        const progress = pathLength - (scroll * pathLength / height);
        progressPath.style.strokeDashoffset = progress;
      };

      updateProgress();
      window.addEventListener('scroll', updateProgress);

      const offset = 50;
      window.addEventListener('scroll', function() {
        if (window.pageYOffset > offset) {
          document.querySelector('#progress-wrap').classList.add('active-progress');
        } else {
          document.querySelector('#progress-wrap').classList.remove('active-progress');
        }
      });

      document.querySelector('#progress-wrap').addEventListener('click', function(event) {
        event.preventDefault();
        window.scrollTo({top: 0, behavior: 'smooth'});
        return false;
      });
    });

    // Initialisation
    window.addEventListener('load', updateCartDisplay);
    document.getElementById('close-cart').addEventListener('click', () => {
      document.getElementById('cart').classList.remove('open');
    });
  </script>
</body>
</html>